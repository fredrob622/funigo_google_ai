
<!-- Fichier : views/pages/kanji_form.ejs -->

<%- include('../partials/header', { title: title }) %>

<div class="content content-black"> 
    
    <h2>Rechercher un Département</h2>
    <form action="/departements/search" method="POST" class="search-form">
        <input type="text" name="searchTerm" value="<%= searchTerm %>" placeholder="Entrez un kanji, lecture, sens...">
        <button type="submit">Rechercher</button>
    </form>

<% if (results.length > 0) { %>
    <!-- NOUVEAU : On ajoute le conteneur autour du tableau -->
    <div class="departement-table-container">
        <h3>Résultats pour "<%= searchTerm %>"</h3>
        
        <!-- NOUVEAU : On ajoute la classe "results-table" au tableau -->
        <table class="results-table">
            <thead>
                <tr>
					<th>nb</th>
					<th>Département</th>
					<th>Région</th>
					<th>Superficie en km/</th>
					<th>Population</th>
					<th>Densité</th>
					<th>Préfecture</th>
					<th>Population</th>
					<th>Sous-Préfecture</th>
                </tr>
            </thead>
            <tbody>
                <% results.forEach(departement => { %>
                    <tr>
                        <!-- CORRIGÉ : on utilise la variable 'departement' directement -->
                        <td data-label="N°"><%= departement.num_dep %></td>
                        <td data-label="Département"><%= departement.nom_dep %></td>
                        <td data-label="Région"><%= departement.nom_reg %></td>
                        <td data-label="Superficie"><%= departement.superficie %></td>
                        <td data-label="Population"><%= departement.pop_dep %></td> 
                        <td data-label="Densité"><%= departement.densite %></td> 
                        <td data-label="Préfecture"><%= departement.nom_pref %></td> 
                        <td data-label="Pop. Préf."><%= departement.pop_pref %></td>
                        <td data-label="Sous-Préf."><%= departement.sous_pref %></td> 						 			 
                    </tr>  
                <% }); %>
            </tbody>
        </table>
    </div>
<% } else if (searchTerm) { %>
    <p>Aucun résultat trouvé pour "<%= searchTerm %>".</p>
<% } %>
</div>

<%- include('../partials/footer') %>